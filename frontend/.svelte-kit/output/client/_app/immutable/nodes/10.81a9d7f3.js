import{S as te,i as re,s as ae,k as h,a as L,q as P,a1 as le,l as p,h as u,c as R,m as I,r as V,n as E,C as r,b as F,aa as se,u as H,E as $,F as oe,o as ne,a2 as q,D as C,K as ie}from"../chunks/index.958f6a32.js";import{h as ue}from"../chunks/cursorHelpers.05cb0207.js";import{f as ee,h as fe,s as ce}from"../chunks/auth.c9fc17a0.js";import{t as de}from"../chunks/index.a9363749.js";const ke=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function he(n){let e,a=n[5]("user.loader")+"",f;return{c(){e=h("h2"),f=P(a)},l(l){e=p(l,"H2",{});var t=I(e);f=V(t,a),t.forEach(u)},m(l,t){F(l,e,t),r(e,f)},p(l,t){t&32&&a!==(a=l[5]("user.loader")+"")&&H(f,a)},d(l){l&&u(e)}}}function pe(n){let e,a,f,l,t,i,c,v,A,m,k,y,d,j,g,B,M,_,o,b,D,w,N,U,z,O,K,G,J;return{c(){e=h("form"),a=h("label"),f=P("Username"),l=L(),t=h("input"),i=L(),c=h("label"),v=P("Email"),A=L(),m=h("input"),k=L(),y=h("button"),d=P("Réinitialiser le mot de passe"),j=L(),g=h("p"),B=h("label"),M=P("Role"),_=P(": "),o=P(n[3]),b=L(),D=h("label"),w=P("Is Verified"),N=L(),U=h("input"),z=L(),O=h("button"),K=P("Mettre à jour"),this.h()},l(T){e=p(T,"FORM",{});var s=I(e);a=p(s,"LABEL",{for:!0});var Q=I(a);f=V(Q,"Username"),Q.forEach(u),l=R(s),t=p(s,"INPUT",{id:!0,type:!0}),i=R(s),c=p(s,"LABEL",{for:!0});var W=I(c);v=V(W,"Email"),W.forEach(u),A=R(s),m=p(s,"INPUT",{id:!0,type:!0}),k=R(s),y=p(s,"BUTTON",{});var X=I(y);d=V(X,"Réinitialiser le mot de passe"),X.forEach(u),j=R(s),g=p(s,"P",{});var S=I(g);B=p(S,"LABEL",{for:!0});var Y=I(B);M=V(Y,"Role"),Y.forEach(u),_=V(S,": "),o=V(S,n[3]),S.forEach(u),b=R(s),D=p(s,"LABEL",{for:!0});var Z=I(D);w=V(Z,"Is Verified"),Z.forEach(u),N=R(s),U=p(s,"INPUT",{id:!0,type:!0}),z=R(s),O=p(s,"BUTTON",{});var x=I(O);K=V(x,"Mettre à jour"),x.forEach(u),s.forEach(u),this.h()},h(){E(a,"for","username"),E(t,"id","username"),E(t,"type","text"),E(c,"for","email"),E(m,"id","email"),E(m,"type","email"),E(B,"for","role"),E(D,"for","isVerified"),E(U,"id","isVerified"),E(U,"type","checkbox"),U.checked=n[4],U.disabled=!0},m(T,s){F(T,e,s),r(e,a),r(a,f),r(e,l),r(e,t),q(t,n[1]),r(e,i),r(e,c),r(c,v),r(e,A),r(e,m),q(m,n[2]),r(e,k),r(e,y),r(y,d),r(e,j),r(e,g),r(g,B),r(B,M),r(g,_),r(g,o),r(e,b),r(e,D),r(D,w),r(e,N),r(e,U),r(e,z),r(e,O),r(O,K),G||(J=[C(t,"input",n[8]),C(m,"input",n[9]),C(y,"click",n[7]),C(O,"click",n[6])],G=!0)},p(T,s){s&2&&t.value!==T[1]&&q(t,T[1]),s&4&&m.value!==T[2]&&q(m,T[2]),s&8&&H(o,T[3]),s&16&&(U.checked=T[4])},d(T){T&&u(e),G=!1,ie(J)}}}function me(n){let e,a,f,l,t,i,c=n[5]("user.title")+"",v,A,m,k,y=n[5]("user.button")+"",d,j,g;document.title=e=n[5]("user.title");function B(o,b){return o[0]?pe:he}let M=B(n),_=M(n);return{c(){a=h("meta"),f=L(),l=h("div"),t=h("div"),i=h("h1"),v=P(c),A=L(),_.c(),m=L(),k=h("a"),d=P(y),this.h()},l(o){const b=le("svelte-l5xncd",document.head);a=p(b,"META",{name:!0,content:!0}),b.forEach(u),f=R(o),l=p(o,"DIV",{class:!0});var D=I(l);t=p(D,"DIV",{class:!0});var w=I(t);i=p(w,"H1",{});var N=I(i);v=V(N,c),N.forEach(u),A=R(w),_.l(w),m=R(w),k=p(w,"A",{href:!0});var U=I(k);d=V(U,y),U.forEach(u),w.forEach(u),D.forEach(u),this.h()},h(){E(a,"name","description"),E(a,"content","This is your user dashboard."),E(k,"href","/about"),E(t,"class","page-container"),E(l,"class","page")},m(o,b){r(document.head,a),F(o,f,b),F(o,l,b),r(l,t),r(t,i),r(i,v),r(t,A),_.m(t,null),r(t,m),r(t,k),r(k,d),j||(g=se(ue.call(null,k,"first")),j=!0)},p(o,[b]){b&32&&e!==(e=o[5]("user.title"))&&(document.title=e),b&32&&c!==(c=o[5]("user.title")+"")&&H(v,c),M===(M=B(o))&&_?_.p(o,b):(_.d(1),_=M(o),_&&(_.c(),_.m(t,m))),b&32&&y!==(y=o[5]("user.button")+"")&&H(d,y)},i:$,o:$,d(o){u(a),o&&u(f),o&&u(l),_.d(),j=!1,g()}}}function _e(n,e,a){let f;oe(n,de,d=>a(5,f=d));let l,t="",i="",c="",v=!1;const A=async()=>{try{await fe({username:t,email:i},f);const d=await ee();a(0,l=d),a(1,{username:t,email:i,role:c,isVerified:v}=l.userInfo,t,a(2,i),a(3,c),a(4,v))}catch(d){console.error("Erreur lors de la mise à jour des informations de l'utilisateur :",d)}},m=async()=>{await ce(i,f)};ne(async()=>{try{const d=await ee();a(0,l=d),a(1,{username:t,email:i,role:c,isVerified:v}=l.userInfo,t,a(2,i),a(3,c),a(4,v))}catch(d){console.error("Error:",d)}});function k(){t=this.value,a(1,t)}function y(){i=this.value,a(2,i)}return[l,t,i,c,v,f,A,m,k,y]}class Ie extends te{constructor(e){super(),re(this,e,_e,me,ae,{})}}export{Ie as component,ke as universal};
