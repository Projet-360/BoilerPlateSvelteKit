import{S as $,i as ee,s as te,k as _,a as T,q as w,a1 as re,l as b,h as m,c as U,m as L,r as A,n as h,C as r,b as C,aa as le,u as z,E as Z,F as ae,o as se,a2 as S,D as q,K as oe}from"../chunks/index.958f6a32.js";import{h as ne}from"../chunks/cursorHelpers.05cb0207.js";import{f as x,h as ue,s as ie}from"../chunks/auth.49264929.js";import{t as fe}from"../chunks/index.a9363749.js";const ve=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function ce(u){let e,l=u[5]("user.loader")+"",f;return{c(){e=_("h2"),f=w(l)},l(s){e=b(s,"H2",{});var t=L(e);f=A(t,l),t.forEach(m)},m(s,t){C(s,e,t),r(e,f)},p(s,t){t&32&&l!==(l=s[5]("user.loader")+"")&&z(f,l)},d(s){s&&m(e)}}}function de(u){let e,l,f,s,t,i,c,v,V,E,k,y,d,D,g,M,B,o,n,p,N,R,P,j,O,F,H,K;return{c(){e=_("form"),l=_("label"),f=w("Username"),s=T(),t=_("input"),i=T(),c=_("label"),v=w("Email"),V=T(),E=_("input"),k=T(),y=_("button"),d=w("Réinitialiser le mot de passe"),D=T(),g=_("label"),M=w("Role"),B=T(),o=_("input"),n=T(),p=_("label"),N=w("Is Verified"),R=T(),P=_("input"),j=T(),O=_("button"),F=w("Mettre à jour"),this.h()},l(I){e=b(I,"FORM",{});var a=L(e);l=b(a,"LABEL",{for:!0});var G=L(l);f=A(G,"Username"),G.forEach(m),s=U(a),t=b(a,"INPUT",{id:!0,type:!0}),i=U(a),c=b(a,"LABEL",{for:!0});var J=L(c);v=A(J,"Email"),J.forEach(m),V=U(a),E=b(a,"INPUT",{id:!0,type:!0}),k=U(a),y=b(a,"BUTTON",{});var Q=L(y);d=A(Q,"Réinitialiser le mot de passe"),Q.forEach(m),D=U(a),g=b(a,"LABEL",{for:!0});var W=L(g);M=A(W,"Role"),W.forEach(m),B=U(a),o=b(a,"INPUT",{id:!0,type:!0,onlyread:!0}),n=U(a),p=b(a,"LABEL",{for:!0});var X=L(p);N=A(X,"Is Verified"),X.forEach(m),R=U(a),P=b(a,"INPUT",{id:!0,type:!0}),j=U(a),O=b(a,"BUTTON",{});var Y=L(O);F=A(Y,"Mettre à jour"),Y.forEach(m),a.forEach(m),this.h()},h(){h(l,"for","username"),h(t,"id","username"),h(t,"type","text"),h(c,"for","email"),h(E,"id","email"),h(E,"type","email"),h(g,"for","role"),h(o,"id","role"),h(o,"type","text"),o.value=u[3],h(o,"onlyread",""),h(p,"for","isVerified"),h(P,"id","isVerified"),h(P,"type","checkbox"),P.checked=u[4],P.disabled=!0},m(I,a){C(I,e,a),r(e,l),r(l,f),r(e,s),r(e,t),S(t,u[1]),r(e,i),r(e,c),r(c,v),r(e,V),r(e,E),S(E,u[2]),r(e,k),r(e,y),r(y,d),r(e,D),r(e,g),r(g,M),r(e,B),r(e,o),r(e,n),r(e,p),r(p,N),r(e,R),r(e,P),r(e,j),r(e,O),r(O,F),H||(K=[q(t,"input",u[8]),q(E,"input",u[9]),q(y,"click",u[7]),q(O,"click",u[6])],H=!0)},p(I,a){a&2&&t.value!==I[1]&&S(t,I[1]),a&4&&E.value!==I[2]&&S(E,I[2]),a&8&&o.value!==I[3]&&(o.value=I[3]),a&16&&(P.checked=I[4])},d(I){I&&m(e),H=!1,oe(K)}}}function pe(u){let e,l,f,s,t,i,c=u[5]("user.title")+"",v,V,E,k,y=u[5]("user.button")+"",d,D,g;document.title=e=u[5]("user.title");function M(n,p){return n[0]?de:ce}let B=M(u),o=B(u);return{c(){l=_("meta"),f=T(),s=_("div"),t=_("div"),i=_("h1"),v=w(c),V=T(),o.c(),E=T(),k=_("a"),d=w(y),this.h()},l(n){const p=re("svelte-l5xncd",document.head);l=b(p,"META",{name:!0,content:!0}),p.forEach(m),f=U(n),s=b(n,"DIV",{class:!0});var N=L(s);t=b(N,"DIV",{class:!0});var R=L(t);i=b(R,"H1",{});var P=L(i);v=A(P,c),P.forEach(m),V=U(R),o.l(R),E=U(R),k=b(R,"A",{href:!0});var j=L(k);d=A(j,y),j.forEach(m),R.forEach(m),N.forEach(m),this.h()},h(){h(l,"name","description"),h(l,"content","This is your user dashboard."),h(k,"href","/about"),h(t,"class","page-container"),h(s,"class","page")},m(n,p){r(document.head,l),C(n,f,p),C(n,s,p),r(s,t),r(t,i),r(i,v),r(t,V),o.m(t,null),r(t,E),r(t,k),r(k,d),D||(g=le(ne.call(null,k,"first")),D=!0)},p(n,[p]){p&32&&e!==(e=n[5]("user.title"))&&(document.title=e),p&32&&c!==(c=n[5]("user.title")+"")&&z(v,c),B===(B=M(n))&&o?o.p(n,p):(o.d(1),o=B(n),o&&(o.c(),o.m(t,E))),p&32&&y!==(y=n[5]("user.button")+"")&&z(d,y)},i:Z,o:Z,d(n){m(l),n&&m(f),n&&m(s),o.d(),D=!1,g()}}}function he(u,e,l){let f;ae(u,fe,d=>l(5,f=d));let s,t="",i="",c="",v=!1;const V=async()=>{try{await ue({username:t,email:i},f);const d=await x();l(0,s=d),l(1,{username:t,email:i,role:c,isVerified:v}=s.userInfo,t,l(2,i),l(3,c),l(4,v))}catch(d){console.error("Erreur lors de la mise à jour des informations de l'utilisateur :",d)}},E=async()=>{await ie(i,f)};se(async()=>{try{const d=await x();l(0,s=d),l(1,{username:t,email:i,role:c,isVerified:v}=s.userInfo,t,l(2,i),l(3,c),l(4,v))}catch(d){console.error("Error:",d)}});function k(){t=this.value,l(1,t)}function y(){i=this.value,l(2,i)}return[s,t,i,c,v,f,V,E,k,y]}class ye extends ${constructor(e){super(),ee(this,e,he,pe,te,{})}}export{ye as component,ve as universal};
