<mxfile host="app.diagrams.net" modified="2024-05-08T13:01:34.412Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36" etag="ZhtZb9FWS6XdWpiuVEQb" version="24.3.1" type="github">
  <diagram name="Page-1" id="VDZgXvl_qCY0RMXNSB1i">
    <mxGraphModel dx="1235" dy="1783" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="vEP_Na_Zm9XJSa0CeelN-1" target="vEP_Na_Zm9XJSa0CeelN-6" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="320" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="vEP_Na_Zm9XJSa0CeelN-1" target="vEP_Na_Zm9XJSa0CeelN-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="vEP_Na_Zm9XJSa0CeelN-1" target="vEP_Na_Zm9XJSa0CeelN-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-1" value="&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;font-size: 30px; background-color: initial;&quot;&gt;AuthStore&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;checkAuth utilise le schéma GQL&lt;/span&gt;&lt;/div&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;div style=&quot;text-align: center;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;et réalise les requêtes&lt;/span&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;div style=&quot;color: rgb(208, 183, 255); background-color: rgb(17, 0, 46); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #bdaff8;font-style: italic;&quot;&gt;async&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;function&lt;/span&gt; &lt;span style=&quot;color: #ff52fc;font-weight: bold;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;()&lt;/span&gt; &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;font-style: italic;&quot;&gt;try&lt;/span&gt; &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #bdaff8;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt; &lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;data&lt;/span&gt; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;font-style: italic;&quot;&gt;await&lt;/span&gt; &lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;client&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #ff52fc;&quot;&gt;query&lt;/span&gt;(&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dddddd;&quot;&gt;query&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;CHECKAUTH&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dddddd;&quot;&gt;fetchPolicy&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #38fdb2;font-style: italic;&quot;&gt;network-only&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;)&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt; &amp;nbsp; &amp;nbsp; &lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;font-style: italic;&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;color: #2de2e6;&quot;&gt;data&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;userId&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;!==&lt;/span&gt; &lt;span style=&quot;color: #987dad;&quot;&gt;null&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;role&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;!==&lt;/span&gt; &lt;span style=&quot;color: #987dad;&quot;&gt;null&lt;/span&gt; ) &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ff52fc;&quot;&gt;update&lt;/span&gt;(&lt;span style=&quot;color: #2de2e6;&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;(&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #bdaff8;&quot;&gt;...&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;state&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dddddd;&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dddddd;&quot;&gt;role&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;role&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dddddd;&quot;&gt;userData&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; username&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;userData&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;username&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; email&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;data&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;userData&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;email&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;))&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt; &lt;span style=&quot;font-style: italic;&quot;&gt;catch&lt;/span&gt; (&lt;span style=&quot;color: #2de2e6;&quot;&gt;error&lt;/span&gt;) &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #ff52fc;&quot;&gt;error&lt;/span&gt;(&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #38fdb2;font-style: italic;&quot;&gt;Error checking authentication:&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #2de2e6;&quot;&gt;error&lt;/span&gt;)&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="480" y="390" width="710" height="630" as="geometry" />
        </mxCell>
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-6" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;AuthGQL&lt;/font&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;possède les schémas GQL&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;font-size: 15px;&quot;&gt;&lt;font style=&quot;font-size: 15px;&quot;&gt;&lt;div style=&quot;color: rgb(208, 183, 255); background-color: rgb(17, 0, 46); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;CHECKAUTH&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;=&lt;/span&gt; gql&lt;span style=&quot;color: #a690ff;&quot;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;query&lt;/span&gt; CheckAuth &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; checkAuth &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; isAuthenticated&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; role&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; userId&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; userData &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; username&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; email&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="30" y="510" width="280" height="320" as="geometry" />
        </mxCell>
        <mxCell id="JkNfJRXNVuI6s5kNVZz9-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="vEP_Na_Zm9XJSa0CeelN-7" target="JkNfJRXNVuI6s5kNVZz9-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-7" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;AuthType&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;AuthType récupère toute les requêtes dont&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; text-align: left; white-space: pre; background-color: rgb(17, 0, 46);&quot;&gt;checkAuth&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;background-color: rgb(17, 0, 46); line-height: 19px;&quot;&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-weight: bold;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-weight: bold;&quot;&gt; gql &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-weight: bold;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-weight: bold;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #38fdb2;font-style: italic;&quot;&gt;apollo-server-express&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#d0b7ff&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre;&quot;&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;authType&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;=&lt;/span&gt; gql&lt;span style=&quot;color: #a690ff;&quot;&gt;`&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre;&quot;&gt;&amp;nbsp; &lt;span style=&quot;color: #bdaff8;&quot;&gt;type&lt;/span&gt; Query &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre;&quot;&gt;&amp;nbsp; &amp;nbsp; checkAuth&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt; CheckAuth&lt;/div&gt;&lt;div style=&quot;text-align: left; color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre;&quot;&gt;&amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&amp;nbsp; &lt;span style=&quot;color: #bdaff8;&quot;&gt;type&lt;/span&gt; CheckAuth &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&amp;nbsp; &amp;nbsp; isAuthenticated&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt; Boolean&lt;/div&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&amp;nbsp; &amp;nbsp; role&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt; String&lt;/div&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&amp;nbsp; &amp;nbsp; userId&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt; String&lt;/div&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&amp;nbsp; &amp;nbsp; userData&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt; UserData&lt;/div&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&amp;nbsp; &lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;`&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#d0b7ff&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="582.5" y="-210" width="517.5" height="450" as="geometry" />
        </mxCell>
        <mxCell id="vEP_Na_Zm9XJSa0CeelN-9" value="&lt;div style=&quot;color: rgb(208, 183, 255); background-color: rgb(17, 0, 46); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;&quot;&gt;&lt;i&gt;From Frontend:&lt;br&gt;&lt;/i&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ff52fc;&quot;&gt;onMount&lt;/span&gt;(&lt;span style=&quot;color: #bdaff8;font-style: italic;&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;()&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: rgb(189, 175, 248);&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: rgb(45, 226, 230); font-style: italic;&quot;&gt;authStore&lt;/span&gt;&lt;span style=&quot;color: rgb(166, 144, 255);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(255, 82, 252);&quot;&gt;checkAuth&lt;/span&gt;&lt;span style=&quot;color: rgb(189, 175, 248);&quot;&gt;()&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;}&lt;/div&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;rounded=1;align=left;" parent="1" vertex="1">
          <mxGeometry x="712.5" y="1140" width="245" height="140" as="geometry" />
        </mxCell>
        <mxCell id="JkNfJRXNVuI6s5kNVZz9-1" value="&lt;font style=&quot;font-size: 30px;&quot;&gt;AuthResolver&lt;/font&gt;&lt;div style=&quot;&quot;&gt;&lt;font style=&quot;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;AuthResolver utilise le schéma GQL&lt;/span&gt;&lt;br&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;et réalise les requêtes&lt;/span&gt;&lt;br&gt;&lt;div style=&quot;background-color: rgb(17, 0, 46); line-height: 19px;&quot;&gt;&lt;div style=&quot;color: rgb(208, 183, 255); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; text-align: left;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;export&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;authResolver&lt;/span&gt; &lt;span style=&quot;color: #bdaff8;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: rgb(221, 221, 221);&quot;&gt;Query&lt;/span&gt;&lt;span style=&quot;color: rgb(166, 144, 255);&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: rgb(221, 221, 221);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(166, 144, 255);&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; checkAuth&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #bdaff8;font-style: italic;&quot;&gt;async&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;_&lt;/span&gt;&lt;span style=&quot;color: #d199ff;font-style: italic;font-weight: bold;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #c884ff;font-style: italic;&quot;&gt; any&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;__&lt;/span&gt;&lt;span style=&quot;color: #d199ff;font-style: italic;font-weight: bold;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #c884ff;font-style: italic;&quot;&gt; any&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;res&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: #d199ff;font-style: italic;font-weight: bold;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #c884ff;font-style: italic;&quot;&gt; Context&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const &lt;/span&gt;&lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; = &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;req&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;cookies&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; (!&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; || &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; === &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #38fdb2;font-style: italic;&quot;&gt;undefined&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; || &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; === &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #38fdb2;font-style: italic;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e08c26;font-style: italic;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const &lt;/span&gt;&lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;isBlacklisted&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; = &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;BlacklistedToken&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #ff52fc;&quot;&gt;findOne&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;isBlacklisted&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;res&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #ff52fc;&quot;&gt;clearCookie&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #38fdb2;font-style: italic;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;&#39;&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e08c26;font-style: italic;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; const &lt;/span&gt;&lt;span style=&quot;color: #05ffff;font-weight: bold;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; = &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;await&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;authService&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #ff52fc;&quot;&gt;checkAuthService&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;token&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;console&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #ff52fc;&quot;&gt;log&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; (&lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e08c26;font-style: italic;&quot;&gt;true&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;userId&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;_id&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;role&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;role&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;userData&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; username&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; email&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #2de2e6;font-style: italic;&quot;&gt;result&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;email&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;else&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;font-style: italic;&quot;&gt;return&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;{&lt;/span&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt;isAuthenticated&lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #e08c26;font-style: italic;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;color: #dddddd;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;};&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #bdaff8;&quot;&gt;&amp;nbsp; &amp;nbsp; &lt;/span&gt;&lt;span style=&quot;color: #a690ff;&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;text-align: left;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot; color=&quot;#d0b7ff&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="550" y="-1090" width="580" height="780" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
